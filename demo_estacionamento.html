<!doctype html>
<html lang="pt-BR">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Demo - Estacionamento Rotativo</title>
<style>
  body{font-family:Arial,Helvetica,sans-serif;background:#eef3fb;padding:24px;}
  .app{max-width:800px;margin:0 auto;background:#fff;padding:18px;border-radius:10px;box-shadow:0 8px 30px rgba(11,38,80,0.06);}
  h1{color:#0b3a6b}
  label{display:block;margin:10px 0 6px}
  input[type="number"],select{width:100%;padding:8px;border-radius:6px;border:1px solid #ccd;}
  .row{display:flex;gap:12px}
  .row > *{flex:1}
  button{margin-top:14px;padding:10px 14px;border:0;border-radius:8px;background:#0b6efd;color:#fff;cursor:pointer}
  pre{background:#0b1220;color:#dbeafe;padding:12px;border-radius:8px;overflow:auto;margin-top:12px}
</style>
</head>
<body>
<div class="app">
  <h1>Demo: Estacionamento Rotativo (simulação)</h1>
  <label>Categoria</label>
  <select id="categoria">
    <option value="boleto">boleto</option>
    <option value="maquina" selected>maquina</option>
    <option value="vaga">vaga</option>
    <option value="seguranca">seguranca</option>
    <option value="sistema">sistema</option>
  </select>

  <label>Veículos/usuários afetados</label>
  <input type="number" id="afetados" value="40" min="0">

  <div class="row">
    <div>
      <label><input type="checkbox" id="seguranca"> Incidente de segurança</label>
    </div>
    <div>
      <label><input type="checkbox" id="evento" checked> Evento no local</label>
    </div>
    <div>
      <label><input type="checkbox" id="horario"> Horário pico</label>
    </div>
  </div>

  <button id="run">Executar</button>

  <pre id="out">Resultado e explicação aparecerão aqui.</pre>
</div>

<script>
const sla = {boleto:60,maquina:30,vaga:120,seguranca:20,sistema:45};
const fator = {p1:0.25,p2:0.50,p3:1.00,p4:1.50};
function impactoN(n){
  if(n>=100) return 'alto';
  if(n>=20) return 'medio';
  return 'baixo';
}
function prioridadeFrom(imp, urg){
  if(imp=='alto' && urg=='alta') return 'p1';
  if((imp=='alto' && urg=='media') || (imp=='medio' && urg=='alta')) return 'p2';
  if(imp=='medio' && urg=='media') return 'p3';
  return 'p4';
}
document.getElementById('run').onclick = () => {
  const cat = document.getElementById('categoria').value;
  const n = parseInt(document.getElementById('afetados').value||0,10);
  const seg = document.getElementById('seguranca').checked;
  const ev = document.getElementById('evento').checked;
  const hp = document.getElementById('horario').checked;

  const imp = impactoN(n);
  let urg = 'baixa';
  if(seg || ev) urg='alta';
  else if(hp) urg='media';
  const pr = prioridadeFrom(imp,urg);
  let alvo = Math.round(sla[cat] * fator[pr]);
  if(seg && alvo>30) alvo=30;

  const grupo = {
    boleto:'caixa',maquina:'manutencao',vaga:'operacoes',seguranca:'seguranca',sistema:'ti'
  }[cat];

  const out = `[Explicacao]
- Categoria: ${cat}
- Afetados: ${n} (${imp})
- Seguranca: ${seg ? 'sim' : 'nao'} | Evento: ${ev ? 'sim' : 'nao'} | HorarioPico: ${hp ? 'sim' : 'nao'} -> Urgencia: ${urg}
- Prioridade: ${pr}
- Grupo responsavel: ${grupo}
- Prazo-alvo (min): ${alvo}

RESULTADO: resultado(priority(${pr}), alvo_minutos(${alvo}), grupo(${grupo}))`;
  document.getElementById('out').textContent = out;
}
</script>
</body>
</html>
